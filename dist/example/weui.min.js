/*!
 * @tencent/weui.js v0.1.5 (https://weui.io)
 * Copyright 2016, wechatui <wechatui@gmail.com>
 * TIT license
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.weui=t():e.weui=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=i(o),r=n(7),u=i(r),l=n(8),d=i(l),f=n(9),c=i(f),s=n(11),p=i(s),v=n(13),h=i(v),m=n(15),y=i(m),_=n(17),w=i(_),g=n(18),b=i(g),k=n(19),x=i(k),E=n(20),j=i(E),C=n(24),M=n(29),S=i(M);t["default"]={dialog:a["default"],alert:u["default"],confirm:d["default"],toast:c["default"],loading:p["default"],actionSheet:h["default"],topTips:y["default"],searchBar:w["default"],tab:b["default"],form:x["default"],uploader:j["default"],picker:C.picker,datePicker:C.datePicker,gallery:S["default"]},e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r["default"].noop;a.addClass("weui-animate-fade-out"),o.addClass("weui-animate-fade-out").on("animationend webkitAnimationEnd",function(){i.remove(),f=!1,e()})}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!f){f=!0;var n=r["default"].os.android;t=r["default"].extend({title:null,content:"",className:"",buttons:[{label:"确定",type:"primary",onClick:r["default"].noop}],isAndroid:n},t);var i=(0,r["default"])(r["default"].render(l["default"],t)),o=i.find(".weui-dialog"),a=i.find(".weui-mask");return d.append(i),a.addClass("weui-animate-fade-in"),o.addClass("weui-animate-fade-in"),i.on("click",".weui-dialog__btn",function(n){var i=this,o=(0,r["default"])(this).index();e(function(){t.buttons[o].onClick&&t.buttons[o].onClick.call(i,n)})}),i.hide=e,i}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=i(a),u=n(6),l=i(u),d=(0,r["default"])("body"),f=void 0;t["default"]=o,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=this.os={},n=e.match(/(Android);?[\s\/]+([\d.]+)?/);n&&(t.android=!0,t.version=n[2])}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n(3);var r=n(4),u=i(r),l=n(5),d=i(l);o.call(d["default"],navigator.userAgent),(0,u["default"])(d["default"].fn,{append:function(e){return e instanceof HTMLElement||(e=e[0]),this.forEach(function(t){t.appendChild(e)}),this},remove:function(){return this.forEach(function(e){e.parentNode.removeChild(e)}),this},find:function(e){return(0,d["default"])(e,this)},addClass:function(e){return this.forEach(function(t){t.classList.add(e)}),this},removeClass:function(e){return this.forEach(function(t){t.classList.remove(e)}),this},eq:function(e){return(0,d["default"])(this[e])},show:function(){return this.forEach(function(e){e.style.display="block"}),this},hide:function(){return this.forEach(function(e){e.style.display="none"}),this},html:function(e){return this.forEach(function(t){t.innerHTML=e}),this},css:function(e){var t=this;return Object.keys(e).forEach(function(n){t.forEach(function(t){t.style[n]=e[n]})}),this},on:function(e,t,n){var i="string"==typeof t&&"function"==typeof n;return i||(n=t),this.forEach(function(o){e.split(" ").forEach(function(e){o.addEventListener(e,function(e){i?this.contains(e.target.closest(t))&&n.call(e.target,e):n.call(this,e)})})}),this},off:function(e,t,n){return"function"==typeof t&&(n=t,t=null),this.forEach(function(i){e.split(" ").forEach(function(e){"string"==typeof t?i.querySelectorAll(t).forEach(function(t){t.removeEventListener(e,n)}):i.removeEventListener(e,n)})}),this},index:function(){var e=this[0],t=e.parentNode;return Array.prototype.indexOf.call(t.children,e)},offAll:function(){var e=this;return this.forEach(function(t,n){var i=t.cloneNode(!0);t.parentNode.replaceChild(i,t),e[n]=i}),this},val:function(){var e=arguments;return arguments.length?(this.forEach(function(t){t.value=e[0]}),this):this[0].value},attr:function(){var e=arguments,t=this;if("object"==a(arguments[0])){var n=function(){var n=e[0],i=t;return Object.keys(n).forEach(function(e){i.forEach(function(t){t.setAttribute(e,n[e])})}),{v:t}}();if("object"===("undefined"==typeof n?"undefined":a(n)))return n.v}return"string"==typeof arguments[0]&&arguments.length<2?this[0].getAttribute(arguments[0]):(this.forEach(function(t){t.setAttribute(e[0],e[1])}),this)}}),(0,u["default"])(d["default"],{extend:u["default"],noop:function(){},render:function(e,t){var n="var p=[],print=function(){p.push.apply(p,arguments);};with(this){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');";return new Function(n).apply(t)},getStyle:function(e,t){var n,i=(e.ownerDocument||document).defaultView;return i&&i.getComputedStyle?(t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),i.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle?(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),n=e.currentStyle[t],/^\d+(em|pt|%|ex)?$/i.test(n)?function(t){var n=e.style.left,i=e.runtimeStyle.left;return e.runtimeStyle.left=e.currentStyle.left,e.style.left=t||0,t=e.style.pixelLeft+"px",e.style.left=n,e.runtimeStyle.left=i,t}(n):n):void 0}}),t["default"]=d["default"],e.exports=t["default"]},function(e,t){"function"!=typeof Element.prototype.matches&&(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=this,n=(t.document||t.ownerDocument).querySelectorAll(e),i=0;n[i]&&n[i]!==t;)++i;return Boolean(n[i])}),"function"!=typeof Element.prototype.closest&&(Element.prototype.closest=function(e){for(var t=this;t&&1===t.nodeType;){if(t.matches(e))return t;t=t.parentNode}return null})},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function i(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var i=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==i.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(a){return!1}}var o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=i()?Object.assign:function(e,t){for(var i,r,u=n(e),l=1;l<arguments.length;l++){i=Object(arguments[l]);for(var d in i)o.call(i,d)&&(u[d]=i[d]);if(Object.getOwnPropertySymbols){r=Object.getOwnPropertySymbols(i);for(var f=0;f<r.length;f++)a.call(i,r[f])&&(u[r[f]]=i[r[f]])}}return u}},function(e,t,n){var i,o;!function(n,a){a=function(e,t,n){function i(o,a,r){return r=Object.create(i.fn),o&&r.push.apply(r,o[t]?[o]:""+o===o?/</.test(o)?((a=e.createElement(a||t)).innerHTML=o,a.children):a?(a=i(a)[0])?a[n](o):r:e[n](o):"function"==typeof o?e.readyState[7]?o():e[t]("DOMContentLoaded",o):o),r}return i.fn=[],i.one=function(e,t){return i(e,t)[0]||null},i}(document,"addEventListener","querySelectorAll"),i=[],o=function(){return a}.apply(t,i),!(void 0!==o&&(e.exports=o))}(this)},function(e,t){e.exports="<div> <div class=weui-mask></div> <div class=\"weui-dialog <% if(isAndroid){ %> weui-skin_android <% } %>\"> <% if(title){ %> <div class=weui-dialog__hd><strong class=weui-dialog__title><%=title%></strong></div> <% } %> <div class=weui-dialog__bd><%=content%></div> <div class=weui-dialog__ft> <% for(var i = 0; i < buttons.length; i++){ %> <a href=javascript:; class=\"weui-dialog__btn weui-dialog__btn_<%=buttons[i]['type']%>\"><%=buttons[i]['label']%></a> <% } %> </div> </div> </div> "},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n=arguments[2],i="object"===("undefined"==typeof t?"undefined":a(t));i&&(n=t),n=u["default"].extend({content:e,buttons:[{label:"确定",type:"primary",onClick:i?u["default"].noop:t}]},n),(0,d["default"])(n)}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(2),u=i(r),l=n(1),d=i(l);t["default"]=o,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n=arguments[2],i=arguments[3],o="object"===("undefined"==typeof t?"undefined":a(t));o&&(i=t),i=u["default"].extend({content:e,className:"",buttons:[{label:"取消",type:"default",onClick:o?u["default"].noop:n},{label:"确定",type:"primary",onClick:o?u["default"].noop:t}]},i),(0,d["default"])(i)}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(2),u=i(r),l=n(1),d=i(l);t["default"]=o,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!f){f=!0,"number"==typeof t&&(t={duration:t}),"function"==typeof t&&(t={callback:t}),t=r["default"].extend({duration:3e3,callback:r["default"].noop},t);var n=(0,r["default"])(r["default"].render(l["default"],{content:e}));d.append(n),n.addClass("weui-animate-fade-in"),setTimeout(function(){n.addClass("weui-animate-fade-out").on("animationend webkitAnimationEnd",function(){n.remove(),f=!1,t.callback()})},t.duration)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=i(a),u=n(10),l=i(u),d=(0,r["default"])("body"),f=void 0;t["default"]=o,e.exports=t["default"]},function(e,t){e.exports='<div> <div class=weui-mask_transparent></div> <div class=weui-toast> <i class="weui-icon_toast weui-icon-success-no-circle"></i> <p class=weui-toast__content><%=content%></p> </div> </div>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(){function e(){n.addClass("weui-animate-fade-out").on("animationend webkitAnimationEnd",function(){n.remove(),f=!1})}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!f){f=!0;var n=(0,r["default"])(r["default"].render(l["default"],{content:t}));return d.append(n),n.addClass("weui-animate-fade-in"),n.hide=e,n}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=i(a),u=n(12),l=i(u),d=(0,r["default"])("body"),f=void 0;t["default"]=o,e.exports=t["default"]},function(e,t){e.exports='<div class=weui-loading_toast> <div class=weui-mask_transparent></div> <div class=weui-toast> <i class="weui-loading weui-icon_toast"></i> <p class=weui-toast__content><%=content%></p> </div> </div>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(){function e(){a.addClass(i?"weui-animate-fade-out":"weui-animate-slide-down"),u.addClass("weui-animate-fade-out").on("animationend webkitAnimationEnd",function(){o.remove(),f=!1})}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!f){f=!0;var i=r["default"].os.android,o=(0,r["default"])(r["default"].render(l["default"],{menus:t,actions:n,isAndroid:i})),a=o.find(".weui-actionsheet"),u=o.find(".weui-mask");return d.append(o),r["default"].getStyle(a[0],"transform"),a.addClass(i?"weui-animate-fade-in":"weui-animate-slide-up"),u.addClass("weui-animate-fade-in").on("click",e),o.find(".weui-actionsheet__menu").on("click",".weui-actionsheet__cell",function(n){var i=(0,r["default"])(this).index();t[i].onClick.call(this,n),e()}),o.find(".weui-actionsheet__action").on("click",".weui-actionsheet__cell",function(t){var i=(0,r["default"])(this).index();n[i].onClick.call(this,t),e()}),o.hide=e,o}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=i(a),u=n(14),l=i(u),d=(0,r["default"])("body"),f=void 0;t["default"]=o,e.exports=t["default"]},function(e,t){e.exports='<div class="<% if(isAndroid){ %> weui-skin_android <% } %>"> <div class=weui-mask></div> <div class=weui-actionsheet> <div class=weui-actionsheet__menu> <% for(var i = 0; i < menus.length; i++){ %> <div class=weui-actionsheet__cell><%= menus[i].label %></div> <% } %> </div> <div class=weui-actionsheet__action> <% for(var j = 0; j < actions.length; j++){ %> <div class=weui-actionsheet__cell><%= actions[j].label %></div> <% } %> </div> </div> </div> '},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e){function t(){i.remove(),n.callback(),f=null}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"number"==typeof n&&(n={duration:n}),"function"==typeof n&&(n={callback:n}),n=r["default"].extend({duration:3e3,callback:r["default"].noop},n);var i=(0,r["default"])(r["default"].render(l["default"],{content:e}));return d.append(i),f&&(clearTimeout(f.timeout),f.hide()),f={hide:t},f.timeout=setTimeout(t,n.duration),i.hide=t,i}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=i(a),u=n(16),l=i(u),d=(0,r["default"])("body"),f=null;t["default"]=o,e.exports=t["default"]},function(e,t){e.exports='<div class="weui-toptips weui-toptips_warn" style=display:block><%= content %></div>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=(0,r["default"])(e);return t.forEach(function(e){function t(){o.val(""),n.removeClass("weui-search-bar_focusing")}var n=(0,r["default"])(e),i=n.find(".weui-search-bar__label"),o=n.find(".weui-search-bar__input"),a=n.find(".weui-icon-clear"),u=n.find(".weui-search-bar__cancel-btn");i.on("click",function(){n.addClass("weui-search-bar_focusing"),o[0].focus()}),o.on("blur",function(){this.value.length||t()}),a.on("click",function(){o.val(""),o[0].focus()}),u.on("click",function(){t(),o[0].blur()})}),t}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=i(a);t["default"]=o,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,r["default"])(e);return t=r["default"].extend({defaultIndex:0,onChange:r["default"].noop},t),n.forEach(function(e){var n=(0,r["default"])(e),i=n.find(".weui-navbar__item, .weui-tabbar__item"),o=n.find(".weui-tab__content");i.eq(t.defaultIndex).addClass("weui-bar__item_on"),o.eq(t.defaultIndex).show(),i.on("click",function(){var e=(0,r["default"])(this),n=e.index();i.removeClass("weui-bar__item_on"),e.addClass("weui-bar__item_on"),o.hide(),o.eq(n).show(),t.onChange.call(this,n)})}),this}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=i(a);t["default"]=o,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e){return e?e.classList.contains("weui-cell")?e:o(e.parentNode):null}function a(e,t,n){var i=e[0],o=e.val();if("INPUT"==i.tagName||"TEXTAREA"==i.tagName){var a=i.getAttribute("required")||i.getAttribute("pattern")||"";if("radio"==i.type){for(var r=t.find('input[type="radio"][name="'+i.name+'"]'),u=0,l=r.length;u<l;++u)if(r[u].checked)return null;return"empty"}if("checkbox"!=i.type){if(e.val().length){if(a){if(/^REG_/.test(a)){if(!n)throw"RegExp "+a+" is empty.";if(a=a.replace(/^REG_/,""),!n[a])throw"RegExp "+a+" has not found.";a=n[a]}return new RegExp(a).test(o)?null:"notMatch"}return null}return"empty"}if(!a)return i.checked?null:"empty";var f=function(){var e=t.find('input[type="checkbox"][name="'+i.name+'"]'),n=a.replace(/[{\s}]/g,"").split(","),o=0;if(2!=n.length)throw i.outerHTML+" regexp is wrong.";return e.forEach(function(e){e.checked&&++o}),o?""===n[1]?o>=parseInt(n[0])?{v:null}:{v:"notMatch"}:parseInt(n[0])<=o&&o<=parseInt(n[1])?{v:null}:{v:"notMatch"}:{v:"empty"}}();if("object"===("undefined"==typeof f?"undefined":d(f)))return f.v}else if(o.length)return null;return"empty"}function r(e){if(e){var t=(0,c["default"])(e.ele),n=e.msg,i=t.attr(n+"Tips")||t.attr("tips")||t.attr("placeholder");if(i&&(0,p["default"])(i),"checkbox"==e.ele.type||"radio"==e.ele.type)return;var a=o(e.ele);a&&a.classList.add("weui-cell_warn")}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c["default"].noop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=(0,c["default"])(e);return i.forEach(function(e){var i=(0,c["default"])(e),o=i.find("[required]");"function"!=typeof t&&(t=r);for(var u=0,l=o.length;u<l;++u){var d=o.eq(u),f=a(d,i,n.regexp),s={ele:d[0],msg:f};if(f)return void(t(s)||r(s))}t(null)}),this}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,c["default"])(e);return n.forEach(function(e){var n=(0,c["default"])(e);n.find("[required]").on("blur",function(){if("checkbox"!=this.type&&"radio"!=this.type){var e=(0,c["default"])(this);if(!(e.val().length<1)){var i=a(e,n,t.regexp);i&&r({ele:e[0],msg:i})}}}).on("focus",function(){var e=o(this);e&&e.classList.remove("weui-cell_warn")})}),this}Object.defineProperty(t,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=n(2),c=i(f),s=n(15),p=i(s);t["default"]={validate:u,checkIfBlur:l},e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){function n(e,t){var n=e.find('[data-id="'+t+'"]'),i=n.find(".weui-uploader__file-content");return i.length||(i=(0,r["default"])('<div class="weui-uploader__file-content"></div>'),n.append(i)),i}function i(e){e.url=a.createObjectURL(e),t.onQueued(e),(0,c["default"])(r["default"].extend({$uploader:o,file:e},t))}var o=(0,r["default"])(e),a=window.URL||window.webkitURL||window.mozURL;t=r["default"].extend({url:"",type:"file",fileVal:"file",data:{},onBeforeQueued:r["default"].noop,onQueued:r["default"].noop,onSuccess:r["default"].noop,onProgress:r["default"].noop,onError:r["default"].noop},t),t.compress!==!1&&(t.compress=r["default"].extend({width:1600,height:1600,quality:.8},t.compress)),t.onBeforeQueued&&!function(){var e=t.onBeforeQueued;t.onBeforeQueued=function(t){var n=e.call(t);if(n===!1)return!1;if(n!==!0){var i=(0,r["default"])(r["default"].render(l["default"],{id:t.id}));o.find(".weui-uploader__files").append(i)}}}(),t.onQueued&&!function(){var e=t.onQueued;t.onQueued=function(t){e.call(t)||o.find('[data-id="'+t.id+'"]').css({backgroundImage:'url("'+(t.base64||t.url)+'")'})}}(),t.onSuccess&&!function(){var e=t.onSuccess;t.onSuccess=function(t,n){if(!e.call(t,n)){var i=o.find('[data-id="'+t.id+'"]').removeClass("weui-uploader__file_status");i.find(".weui-uploader__file-content").remove()}}}(),t.onProgress&&!function(){var e=t.onProgress;t.onProgress=function(t,i){e.call(t,i)||n(o,t.id).html(i+"%")}}(),t.onError&&!function(){var e=t.onError;t.onError=function(t,i){e.call(t,i)||n(o,t.id).html('<i class="weui-icon-warn"></i>')}}(),o.find("input").on("change",function(e){var n=e.target.files;0!==n.length&&(t.compress===!1&&"file"==t.type?Array.prototype.forEach.call(n,function(e){e.id=++s,t.onBeforeQueued(e)!==!1&&i(e)}):Array.prototype.forEach.call(n,function(e){e.id=++s,t.onBeforeQueued(e)!==!1&&(0,d.compress)(e,t).then(function(e){e&&i(e)})}),this.value="")})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=i(a),u=n(21),l=i(u),d=n(22),f=n(23),c=i(f),s=0;t["default"]=o,e.exports=t["default"]},function(e,t){e.exports='<li class="weui-uploader__file weui-uploader__file_status" data-id="<%= id %>"> <div class=weui-uploader__file-content>0%</div> </li> '},function(e,t){"use strict";function n(e){var t,n=e.naturalHeight,i=document.createElement("canvas");i.width=1,i.height=n;var o=i.getContext("2d");o.drawImage(e,0,0);try{t=o.getImageData(0,0,1,n).data}catch(a){return 1}for(var r=0,u=n,l=n;l>r;){var d=t[4*(l-1)+3];0===d?u=l:r=l,l=u+r>>1}var f=l/n;return 0===f?1:f}function i(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),o=new Uint8Array(i),a=0;a<t.length;a++)o[a]=t.charCodeAt(a);return new Blob([i],{type:n})}function o(e,t){return new Promise(function(o){var a=new FileReader;a.onload=function(a){if(t.compress===!1)return e.base64=a.target.result,void o(e);var r=new Image;r.onload=function(){var a=n(r),u=document.createElement("canvas"),l=u.getContext("2d"),d=t.compress.width,f=t.compress.height,c=r.width,s=r.height,p=void 0;if(c<s&&s>f?(c=parseInt(f*r.width/r.height),s=f):c>=s&&c>d&&(s=parseInt(d*r.height/r.width),c=d),u.width=c,u.height=s,l.drawImage(r,0,0,c,s/a),p=/image\/jpeg/.test(e.type)||/image\/jpg/.test(e.type)?u.toDataURL("image/jpeg",t.compress.quality):u.toDataURL(e.type),"file"==t.type)if(/;base64,null/.test(p)||/;base64,$/.test(p))o(e);else{var v=i(p);v.id=e.id,v.name=e.name,v.lastModified=e.lastModified,v.lastModifiedDate=e.lastModifiedDate,o(v)}else/;base64,null/.test(p)||/;base64,$/.test(p)?(t.onError(e,new Error("Compress fail, dataURL is "+p+".")),o()):(e.base64=p,o(e))},r.src=a.target.result},a.readAsDataURL(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.detectVerticalSquash=n,t.dataURItoBlob=i,t.compress=o},function(e,t){"use strict";function n(e){var t=e.url,n=e.file,i=e.data,o=e.fileVal,a=e.onProgress,r=e.onError,u=e.onSuccess,l=n.name,d=n.type,f=n.size,c=n.lastModifiedDate,s=new FormData,p=new XMLHttpRequest;n.xhr=p,s.append("name",l),s.append("type",d),s.append("lastModifiedDate",c),"file"==e.type?(s.append("size",f),s.append(o,n,l)):(s.append("size",n.base64.length),s.append(o,n.base64)),Object.keys(i).forEach(function(e){s.append(e,i[e])}),p.onreadystatechange=function(){if(4==p.readyState)if(200==p.status)try{var e=JSON.parse(p.responseText);u(n,e)}catch(t){r(n,t)}else r(n,new Error("XMLHttpRequest response status is not 200"))},p.upload.addEventListener("progress",function(e){if(0!=e.total){var t=100*Math.ceil(e.loaded/e.total);a(n,t)}},!1),p.open("POST",t),p.send(s)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function a(){function e(t,n){r.find(".weui-picker__group").eq(n).scroll({items:t,temp:a[n],onChange:function(t,u){t?o[n]=t.value:o[n]=null,a[n]=u,t.children&&t.children.length>0?(r.find(".weui-picker__group").eq(n+1).show(),e(t.children,n+1)):(o[n+1]=null,o.length=n+1,r.find(".weui-picker__group").eq(n+1).hide(),i.onChange(o))},onConfirm:i.onConfirm})}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1];if(!m){m=!0;var i=l["default"].extend({id:"default",onChange:l["default"].noop,onConfirm:l["default"].noop},n);g[i.id]=g[i.id]||[];for(var o=[],a=g[i.id],r=(0,l["default"])(s["default"]),u=f.depthOf(t[0]),d="";u--;)d+=v["default"];return r.find(".weui-picker__bd").html(d),_(r),e(t,0),r.on("click",".weui-mask",function(){w(r)}).on("click",".weui-picker__action",function(){w(r)}).on("click","#weui-picker-confirm",function(){i.onConfirm(o)}),r.hide=function(){w(r)},r}}function r(e){for(var t=l["default"].extend({id:"datePicker",onChange:l["default"].noop,onConfirm:l["default"].noop,start:2e3,end:2030},e),n=[],i=[31,28,31,30,31,30,31,31,30,31,30,31],o=t.start;o<=t.end;o++){var r=[];o%4==0&&o%100!=0||o%400==0?i[1]=29:i[1]=28;for(var u=0;u<12;u++){for(var d=[],f=1;f<i[u]+1;f++){var c={label:f+"日",value:f};d.push(c)}r.push({label:u+1+"月",value:u,children:d})}var s={label:o+"年",value:o,children:r};n.push(s)}a(n,t)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(2),l=o(u);n(25);var d=n(26),f=i(d),c=n(27),s=o(c),p=n(28),v=o(p),h=(0,l["default"])("body"),m=void 0,y=function(e){e&&(e.remove(),m=!1)},_=function(e){h.append(e),l["default"].getStyle(e[0],"transform"),e.find(".weui-mask").addClass("weui-animate-fade-in"),e.find(".weui-picker").addClass("weui-animate-slide-up")},w=function(e){e.find(".weui-mask").addClass("weui-animate-fade-out"),e.find(".weui-picker").addClass("weui-animate-slide-down").on("animationend webkitAnimationEnd",function(){y(e)})},g={};t["default"]={picker:a,datePicker:r},e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var o=n(2),a=i(o),r=function(e,t){return e.css({"-webkit-transition":"all "+t+"s",transition:"all "+t+"s"})},u=function(e,t){return e.css({"-webkit-transform":"translate3d(0, "+t+"px, 0)",transform:"translate3d(0, "+t+"px, 0)"})},l=function(e){for(var t=Math.floor(e.length/2),n=0;e[t]&&e[t].disabled;)if(t=++t%e.length,n++,n>e.length)throw new Error("No selectable item.");return t},d=function(e,t,n){var i=l(n);return(e-i)*t},f=function(e,t){return e*t},c=function(e,t,n){return-(t*(n-e-1))};a["default"].fn.scroll=function(e){var t=this,n=a["default"].extend({items:[],scrollable:".weui-picker__content",offset:3,rowHeight:34,onChange:a["default"].noop,temp:null,bodyHeight:238},e),i=n.items.map(function(e){return'<div class="weui-picker__item'+(e.disabled?" weui-picker__item_disabled":"")+'">'+e.label+"</div>"}).join("");(0,a["default"])(this).find(".weui-picker__content").html(i);var o=(0,a["default"])(this).find(n.scrollable),s=void 0,p=void 0,v=void 0,h=void 0,m=[],y=window.innerHeight;if(null!==n.temp&&n.temp<n.items.length){var _=n.temp;n.onChange.call(this,n.items[_],_),h=(n.offset-_)*n.rowHeight}else{var w=l(n.items);n.onChange.call(this,n.items[w],w),h=d(n.offset,n.rowHeight,n.items)}u(o,h);var g=function(e){h+=e,h=Math.round(h/n.rowHeight)*n.rowHeight;var i=f(n.offset,n.rowHeight),a=c(n.offset,n.rowHeight,n.items.length);h>i&&(h=i),h<a&&(h=a);for(var l=n.offset-h/n.rowHeight;n.items[l]&&n.items[l].disabled;)e>0?++l:--l;h=(n.offset-l)*n.rowHeight,r(o,.3),u(o,h),n.onChange.call(t,n.items[l],l)};o=(0,a["default"])(this).offAll().on("touchstart",function(e){s=e.changedTouches[0].pageY,v=+new Date}).on("touchmove",function(e){p=e.changedTouches[0].pageY;var t=p-s;r(o,0),u(o,h+t),v=+new Date,m.push({time:v,y:p}),m.length>40&&m.shift(),e.preventDefault()}).on("touchend",function(e){var t=(new Date).getTime();p=e.changedTouches[0].pageY;var i=y-n.bodyHeight/2;if(t-v>100)g(Math.abs(p-s)>10?p-s:i-p);else if(Math.abs(p-s)>10){for(var o=m.length-1,a=o,r=o;r>0&&v-m[r].time<100;r--)a=r;if(a!==o){var u=m[o],l=m[a],d=u.time-l.time,f=u.y-l.y,c=f/d,h=150*c+(p-s);g(h)}else g(0)}else g(i-p)}).find(n.scrollable)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.depthOf=function n(e){var t=1;return e.children&&e.children[0]&&(t=n(e.children[0])+1),t}},function(e,t){e.exports="<div> <div class=weui-mask></div> <div class=weui-picker> <div class=weui-picker__hd> <a href=javascript:; data-action=cancel class=weui-picker__action>取消</a> <a href=javascript:; data-action=select class=weui-picker__action id=weui-picker-confirm>确定</a> </div> <div class=weui-picker__bd> </div> </div> </div>"},function(e,t){e.exports="<div class=weui-picker__group> <div class=weui-picker__mask></div> <div class=weui-picker__indicator></div> <div class=weui-picker__content></div> </div>"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e){function t(){i.addClass("weui-animate-fade-out").on("animationend webkitAnimationEnd",function(){i.remove(),f=!1})}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!f){f=!0;var i=(0,r["default"])(r["default"].render(l["default"],{url:e}));return n=r["default"].extend({onDelete:r["default"].noop},n),d.append(i),i.find(".weui-gallery__img").on("click",t),i.find(".weui-gallery__del").on("click",function(){n.onDelete.call(this,e)}),i.show().addClass("weui-animate-fade-in"),i.hide=t,i}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=i(a),u=n(30),l=i(u),d=(0,r["default"])("body"),f=void 0;t["default"]=o,e.exports=t["default"]},function(e,t){e.exports='<div class=weui-gallery> <span class=weui-gallery__img style=background-image:url(<%=url%>)></span> <div class=weui-gallery__opr> <a href=javascript: class=weui-gallery__del> <i class="weui-icon-delete weui-icon_gallery-delete"></i> </a> </div> </div> '}])});